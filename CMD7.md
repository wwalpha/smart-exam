[PHASE 6] 回帰テスト（最小で事故ゼロへ）
目的: 生成揺れ・下線ズレ・入力不正での印刷事故を防ぐための最小テストを追加する。

やること:

1. ユニットテスト:
   - uploadパーサ: "本文|答え" 正常/異常ケース（行番号付きエラー）
   - underline整合: promptText.slice(start,start+length)==reading の検証
   - readingのひらがなバリデーション
2. PDF生成のスモークテスト:
   - 固定の60問入力でPDF生成が例外なく完走すること
   - （可能なら）生成したPDFのページ数=1 を検証
3. 生成APIのテスト:
   - Bedrockはモック化（既存のテスト戦略に合わせる）
   - リトライ/ERROR遷移が期待通り
4. results.md に以下を追記:
   - 追加したテスト一覧
   - 事故になり得るケースと、どのテストで担保したか

制約:

- CIがある場合はそこで動く範囲に抑える（外部呼び出しはモック）。
- 破壊的変更禁止。既存テストを壊さない。

完了条件:

- 主要ロジックがテストでカバーされ、少なくとも「下線位置ミスが混入しない設計」になっていること。

必ず results.md に追記して終了すること。
